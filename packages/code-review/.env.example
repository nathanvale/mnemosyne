# Code Review Package Environment Variables
# Copy this file to .env and configure as needed

# ==========================================
# GitHub Configuration
# ==========================================
# GitHub personal access token for API access (optional - gh CLI auth is preferred)
GITHUB_TOKEN=

# Repository in format owner/repo (e.g., facebook/react)
REPO=

# Pull request number to analyze
PR=

# ==========================================
# Analysis Configuration
# ==========================================
# Confidence threshold for findings (0-100, default: 70)
# Higher values mean only high-confidence issues are reported
PR_ANALYSIS_CONFIDENCE_THRESHOLD=70

# Maximum number of findings to report (default: 20)
PR_ANALYSIS_MAX_FINDINGS=20

# Output format for reports: json, markdown, or github (default: github)
PR_ANALYSIS_OUTPUT_FORMAT=github

# Timeout for analysis operations in milliseconds (default: 120000 = 2 minutes)
PR_ANALYSIS_TIMEOUT_MS=120000

# ==========================================
# Security Analysis Features
# ==========================================
# Include OWASP Top 10 categorization (default: true)
PR_ANALYSIS_INCLUDE_OWASP=true

# Include SANS Top 25 mapping (default: true)
PR_ANALYSIS_INCLUDE_SANS=true

# Include CWE classification (default: true)
PR_ANALYSIS_INCLUDE_CWE=true

# Enable expert findings from advanced analysis (default: true)
PR_ANALYSIS_ENABLE_EXPERT_FINDINGS=true

# ==========================================
# CodeRabbit Integration (Optional)
# ==========================================
# CodeRabbit API key for fetching AI-powered code reviews
CODERABBIT_API_KEY=

# CodeRabbit API base URL (default: https://api.coderabbit.ai)
CODERABBIT_BASE_URL=https://api.coderabbit.ai

# ==========================================
# Logging Configuration
# ==========================================
# Directory for storing analysis logs (default: .logs/pr-reviews)
PR_ANALYSIS_LOG_DIR=.logs/pr-reviews

# Enable debug logging (default: false)
PR_ANALYSIS_DEBUG=false

# ==========================================
# Usage Examples
# ==========================================
# Basic PR analysis:
#   PR=123 REPO=owner/repo pnpm review:pr analyze
#
# With custom threshold:
#   PR=123 REPO=owner/repo PR_ANALYSIS_CONFIDENCE_THRESHOLD=90 pnpm review:pr analyze
#
# JSON output with debug:
#   PR=123 REPO=owner/repo PR_ANALYSIS_OUTPUT_FORMAT=json PR_ANALYSIS_DEBUG=true pnpm review:pr analyze
#
# With CodeRabbit integration:
#   PR=123 REPO=owner/repo CODERABBIT_API_KEY=your-key pnpm review:pr fetch-coderabbit